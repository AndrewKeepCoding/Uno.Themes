<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
					xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
					xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
					xmlns:win="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
					xmlns:toolkit="using:Uno.UI.Toolkit"
					xmlns:winui="using:Microsoft.UI.Xaml.Controls"
					mc:Ignorable="">

	<ResourceDictionary.MergedDictionaries>
		<ResourceDictionary Source="../Application/Colors.xaml" />
	</ResourceDictionary.MergedDictionaries>

	<!-- Documented variables -->
	<Color x:Key="InfoBarWarningSeverityColor">#FFCC44</Color>
	<Color x:Key="InfoBarSuccessSeverityColor">#85D174</Color>

	<x:String x:Key="CloseGlyphPathData">M1.442037,0L16.002031,14.585751 30.588022,0.025996563 32.001024,1.4409965 17.414783,16.001002 31.97503,30.587006 30.560022,32 15.999268,17.413969 1.4130009,31.973999 0,30.558998 14.586494,15.998742 0.027028472,1.4140019z</x:String>

	<SolidColorBrush x:Key="InfoBarWarningSeverityBrush"
					 Color="{StaticResource InfoBarWarningSeverityColor}" />
	<SolidColorBrush x:Key="InfoBarSuccessSeverityBrush"
					 Color="{StaticResource InfoBarSuccessSeverityColor}" />

	<!-- Style -->
	<Style x:Key="MaterialInfoBarStyle"
		   TargetType="winui:InfoBar">

		<Setter Property="IsTabStop"
				Value="False" />
		<Setter Property="CloseButtonStyle"
				Value="{StaticResource InfoBarCloseButtonStyle}" />
		<Setter Property="Background"
				Value="{StaticResource MaterialBackgroundBrush}" />
		<win:Setter Property="BorderBrush"
					Value="Black" />
		<win:Setter Property="BorderThickness"
					Value="1" />

		<Setter Property="Template">
			<Setter.Value>
				<ControlTemplate TargetType="winui:InfoBar">

					<toolkit:ElevatedView x:Name="Root"
										  Margin="{TemplateBinding Margin}"
										  Background="{TemplateBinding Background}"
										  HorizontalAlignment="{TemplateBinding HorizontalAlignment}"
										  VerticalAlignment="{TemplateBinding VerticalAlignment}"
										  CornerRadius="{TemplateBinding CornerRadius}"
										  Elevation="4">

						<VisualStateManager.VisualStateGroups>

							<VisualStateGroup x:Name="SeverityLevels">
								<VisualState x:Name="Informational" />


								<VisualState x:Name="Error">
									<VisualState.Setters>
										<Setter Target="SeverityLevel.BorderBrush"
												Value="{StaticResource MaterialErrorBrush}" />
										<Setter Target="SeverityLevel.BorderThickness"
												Value="0,0,0,4" />
									</VisualState.Setters>
								</VisualState>

								<VisualState x:Name="Warning">
									<VisualState.Setters>
										<Setter Target="SeverityLevel.BorderBrush"
												Value="{StaticResource InfoBarWarningSeverityBrush}" />
										<Setter Target="SeverityLevel.BorderThickness"
												Value="0,0,0,4" />
									</VisualState.Setters>
								</VisualState>

								<VisualState x:Name="Success">
									<VisualState.Setters>
										<Setter Target="SeverityLevel.BorderBrush"
												Value="{StaticResource InfoBarSuccessSeverityBrush}" />
										<Setter Target="SeverityLevel.BorderThickness"
												Value="0,0,0,4" />
									</VisualState.Setters>
								</VisualState>
							</VisualStateGroup>

							<VisualStateGroup x:Name="IconStates">
								<VisualState x:Name="StandardIconVisible">
									<VisualState.Setters>
										<Setter Target="StandardIcon.Visibility"
												Value="Visible" />
										<Setter Target="UserIconBorder.Visibility"
												Value="Collapsed" />
									</VisualState.Setters>
								</VisualState>

								<VisualState x:Name="UserIconVisible">
									<VisualState.Setters>
										<Setter Target="UserIconBorder.Visibility"
												Value="Visible" />
										<Setter Target="StandardIcon.Visibility"
												Value="Collapsed" />
									</VisualState.Setters>
								</VisualState>

								<VisualState x:Name="NoIconVisible" />
							</VisualStateGroup>

							<VisualStateGroup>
								<VisualState x:Name="CloseButtonVisible" />
								<VisualState x:Name="CloseButtonCollapsed">
									<VisualState.Setters>
										<Setter Target="CloseButton.Visibility"
												Value="Collapsed" />
									</VisualState.Setters>
								</VisualState>
							</VisualStateGroup>

							<VisualStateGroup x:Name="InfoBarVisibility">
								<VisualState x:Name="InfoBarVisible" />
								<VisualState x:Name="InfoBarCollapsed">
									<VisualState.Setters>
										<Setter Target="ContentRoot.Visibility"
												Value="Collapsed" />
									</VisualState.Setters>
								</VisualState>
							</VisualStateGroup>

							<VisualStateGroup>
								<VisualState x:Name="ForegroundNotSet" />
								<VisualState x:Name="ForegroundSet">
									<VisualState.Setters>
										<Setter Target="Title.Foreground"
												Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=Foreground}" />
										<Setter Target="Message.Foreground"
												Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=Foreground}" />
									</VisualState.Setters>
								</VisualState>
							</VisualStateGroup>
						</VisualStateManager.VisualStateGroups>

						<Grid x:Name="ContentRoot"
							  Background="{TemplateBinding Background}"
							  BorderBrush="{TemplateBinding BorderBrush}"
							  BorderThickness="{TemplateBinding BorderThickness}"
							  CornerRadius="{TemplateBinding CornerRadius}">

							<Grid x:Name="SeverityLevel"
								  BorderBrush="Transparent"
								  BorderThickness="0,0,0,4"
								  Padding="{StaticResource InfoBarContentRootPadding}">

								<Grid.ColumnDefinitions>
									<ColumnDefinition Width="Auto" />
									<ColumnDefinition Width="*" />
								</Grid.ColumnDefinitions>

								<Grid.RowDefinitions>
									<RowDefinition Height="Auto" />
									<RowDefinition Height="Auto" />
								</Grid.RowDefinitions>

								<!-- Font Icon -->
								<FontIcon x:Name="StandardIcon"
										  Visibility="Collapsed"
										  VerticalAlignment="Top"
										  Margin="{StaticResource InfoBarIconMargin}"
										  FontSize="{StaticResource InfoBarIconFontSize}"
										  Glyph="{StaticResource InfoBarInformationalIconGlyph}"
										  Foreground="{ThemeResource InfoBarInformationalSeverityIconForeground}"
										  FontFamily="{ThemeResource SymbolThemeFontFamily}"
										  AutomationProperties.AccessibilityView="Raw"
										  Grid.Column="0" />

								<!-- Icon Parent -->
								<Border x:Name="UserIconBorder"
										Child="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.IconElement}"
										Visibility="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=IsIconVisible, Converter={StaticResource TrueToVisible}, TargetNullValue=Collapsed, FallbackValue=Collapsed}"
										VerticalAlignment="Top"
										Height="32"
										Width="32"
										Margin="2,16,6,0"
										Grid.Column="0" />

								<StackPanel Grid.Column="1">

									<!-- Title -->
									<TextBlock x:Name="Title"
											   Text="{TemplateBinding Title}"
											   Style="{StaticResource MaterialSubtitle2}"
											   TextWrapping="Wrap"
											   AutomationProperties.LandmarkType="Navigation"
											   Margin="6,16,40,0" />

									<!-- Message -->
									<TextBlock x:Name="Message"
											   Text="{TemplateBinding Message}"
											   Style="{StaticResource MaterialBody2}"
											   TextWrapping="Wrap"
											   MaxLines="100"
											   Margin="6,0,40,0" />

									<!-- Action Button -->
									<ContentPresenter Content="{TemplateBinding ActionButton}"
													  Margin="0,0,2,2"
													  MinHeight="14" />
								</StackPanel>

								<!-- Close Button -->
								<Button Name="CloseButton"
										Command="{TemplateBinding CloseButtonCommand}"
										CommandParameter="{TemplateBinding CloseButtonCommandParameter}"
										Style="{StaticResource MaterialTextButtonStyle}"
										Visibility="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=IsClosable, Converter={StaticResource TrueToVisible}, TargetNullValue=Collapsed, FallbackValue=Collapsed}"
										VerticalAlignment="Top"
										HorizontalAlignment="Right"
										Grid.Column="1"
										Margin="0,2,2,0">
									<Path x:Name="GlyphElement"
										  Data="{StaticResource CloseGlyphPathData}"
										  Fill="{StaticResource MaterialOnBackgroundBrush}"
										  VerticalAlignment="Center"
										  HorizontalAlignment="Center"
										  Stretch="Uniform"
										  Width="12"
										  Height="12"
										  AutomationProperties.AccessibilityView="Raw" />
								</Button>

								<!-- Content -->
								<ContentPresenter Content="{TemplateBinding Content}"
												  ContentTemplate="{TemplateBinding ContentTemplate}"
												  Grid.Column="1"
												  Grid.Row="1" />
							</Grid>
						</Grid>
					</toolkit:ElevatedView>
				</ControlTemplate>
			</Setter.Value>
		</Setter>
	</Style>
</ResourceDictionary>
