<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
					xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
					xmlns:controls="using:Uno.Material.Controls"
					xmlns:converters="using:Uno.Material.Converters">

	<StaticResource x:Key="BottomNavLabelFocusColorBrush"
					ResourceKey="OnPrimaryBrush" />
	<x:Double x:Key="BottomNavLabelFontSize">12</x:Double>
	<StaticResource x:Key="BottomNavIconFocusColorBrush"
					ResourceKey="OnPrimaryBrush" />
	<StaticResource x:Key="BottomNavLabelColorBrush"
					ResourceKey="OnPrimaryMediumBrush" />
	<StaticResource x:Key="BottomNavIconColorBrush"
					ResourceKey="OnPrimaryMediumBrush" />
	<StaticResource x:Key="BottomNavNotifBackgroundColorBrush"
					ResourceKey="ErrorBrush" />
	<StaticResource x:Key="BottomNavNotifLabelColorBrush"
					ResourceKey="OnErrorBrush" />

	<converters:FromEmptyStringToValueConverter x:Name="EmptyToCollapsed"
												NotNullOrEmptyValue="Visible"
												NullOrEmptyValue="Collapsed" />

	<CubicEase x:Key="EaseOutFunction"
			   EasingMode="EaseOut" />

	<Style x:Key="DefaultBottomNavigationBarItemStyle"
		   TargetType="controls:BottomNavigationBarItem">
		<Setter Property="Foreground"
				Value="{StaticResource BottomNavLabelColorBrush}" />
		<Setter Property="Margin"
				Value="0,4" />
		<Setter Property="Template">
			<Setter.Value>
				<ControlTemplate TargetType="controls:BottomNavigationBarItem">
					<Grid Margin="{TemplateBinding Margin}"
						  Background="Transparent">
						<VisualStateManager.VisualStateGroups>
							<VisualStateGroup x:Name="CommonStates">
								<VisualStateGroup.Transitions>
									<VisualTransition x:Name="ToPressedTransition"
													  To="Pressed"
													  GeneratedDuration="0">
										<Storyboard>
											<DoubleAnimation Storyboard.TargetName="Scale"
															 Storyboard.TargetProperty="ScaleX"
															 Duration="0:0:0.4"
															 From="1"
															 To="4"
															 EasingFunction="{StaticResource EaseInOutFunction}" />
											<DoubleAnimation Storyboard.TargetName="Scale"
															 Storyboard.TargetProperty="ScaleY"
															 Duration="0:0:0.4"
															 From="1"
															 To="4"
															 EasingFunction="{StaticResource EaseInOutFunction}" />
											<DoubleAnimation Storyboard.TargetName="Ripple"
															 Storyboard.TargetProperty="Opacity"
															 Duration="0:0:0.4"
															 From="0.5"
															 To="0"
															 EasingFunction="{StaticResource EaseInOutFunction}" />
										</Storyboard>
									</VisualTransition>
								</VisualStateGroup.Transitions>

								<VisualState x:Name="Normal" />
								<VisualState x:Name="PointerOver" />
								<VisualState x:Name="Pressed" />
								<VisualState x:Name="CheckedPointerOver" />
								<VisualState x:Name="CheckedPressed" />
								<VisualState x:Name="Checked">
									<VisualState.Setters>
										<Setter Target="Icon.Fill"
												Value="{StaticResource BottomNavIconFocusColorBrush}" />
										<Setter Target="ContentPresenter.Foreground"
												Value="{StaticResource BottomNavLabelFocusColorBrush}" />
									</VisualState.Setters>
								</VisualState>
							</VisualStateGroup>
						</VisualStateManager.VisualStateGroups>

						<Grid HorizontalAlignment="Center">
							<Grid.RowDefinitions>
								<RowDefinition Height="*" />
								<RowDefinition Height="Auto" />
							</Grid.RowDefinitions>

							<Ellipse x:Name="Ripple"
									 Opacity="0"
									 Stretch="Uniform"
									 Height="24"
									 Width="24"
									 VerticalAlignment="Center"
									 HorizontalAlignment="Center"
									 Grid.RowSpan="2"
									 IsHitTestVisible="False"
									 RenderTransformOrigin="0.5,0.5"
									 Fill="{StaticResource BottomNavLabelColorBrush}">
								<Ellipse.RenderTransform>
									<ScaleTransform x:Name="Scale" />
								</Ellipse.RenderTransform>
							</Ellipse>

							<Path x:Name="Icon"
								  Data="{Binding Path=Data, RelativeSource={RelativeSource TemplatedParent}}"
								  Fill="{StaticResource BottomNavIconColorBrush}"
								  Stretch="Uniform"
								  Height="20"
								  Width="20"
								  Margin="0,0,0,4"
								  HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
								  VerticalAlignment="{TemplateBinding VerticalContentAlignment}" />

							<Border CornerRadius="6"
									Background="{StaticResource BottomNavNotifBackgroundColorBrush}"
									HorizontalAlignment="Right"
									VerticalAlignment="Top"
									Visibility="{Binding Text, ElementName=PART_BadgeLabel, Converter={StaticResource EmptyToCollapsed}}">
								<TextBlock x:Name="PART_BadgeLabel"
										   Text="{Binding Path=Badge, RelativeSource={RelativeSource TemplatedParent}}"
										   Foreground="{StaticResource BottomNavNotifLabelColorBrush}"
										   FontSize="10"
										   TextTrimming="CharacterEllipsis"
										   Margin="4,2" />
							</Border>

							<ContentPresenter x:Name="ContentPresenter"
											  Grid.Row="1"
											  Foreground="{TemplateBinding Foreground}"
											  BorderBrush="{TemplateBinding BorderBrush}"
											  BorderThickness="{TemplateBinding BorderThickness}"
											  Content="{TemplateBinding Content}"
											  ContentTemplate="{TemplateBinding ContentTemplate}"
											  ContentTransitions="{TemplateBinding ContentTransitions}"
											  CornerRadius="{TemplateBinding CornerRadius}"
											  FontFamily="{TemplateBinding FontFamily}"
											  FontSize="{TemplateBinding FontSize}"
											  HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
											  VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}"
											  AutomationProperties.AccessibilityView="Raw" />
						</Grid>
					</Grid>
				</ControlTemplate>
			</Setter.Value>
		</Setter>
	</Style>

	<Style TargetType="controls:BottomNavigationBarItem"
		   BasedOn="{StaticResource DefaultBottomNavigationBarItemStyle}" />

</ResourceDictionary>
